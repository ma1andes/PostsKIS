# REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ—Å—Ç–∞–º–∏ (Posts)

–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ REST API –Ω–∞ Node.js —Å Express, TypeScript, –≤–∫–ª—é—á–∞—é—â–µ–µ –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫, –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö –∏ –∑–∞—â–∏—Ç—É –æ—Ç —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ RESTful API —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `/api/`
- ‚úÖ –ü–æ–ª–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥—è—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –æ—à–∏–±–æ–∫ —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ HTTP-—Å—Ç–∞—Ç—É—Å–∞–º–∏
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã—Ö —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π (XSS, DoS, –∏–Ω—ä–µ–∫—Ü–∏–∏)
- ‚úÖ –°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ TypeScript –¥–ª—è —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
src/
‚îú‚îÄ‚îÄ app.ts                    # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π Express
‚îú‚îÄ‚îÄ server.ts                 # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ —Å–µ—Ä–≤–µ—Ä–∞
‚îú‚îÄ‚îÄ controllers/              # –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã (–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞)
‚îÇ   ‚îî‚îÄ‚îÄ postsController.ts
‚îú‚îÄ‚îÄ models/                   # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ Post.ts              # –ú–æ–¥–µ–ª—å Post —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
‚îÇ   ‚îî‚îÄ‚îÄ types.ts             # TypeScript —Ç–∏–ø—ã –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
‚îú‚îÄ‚îÄ routes/                   # –ú–∞—Ä—à—Ä—É—Ç—ã API
‚îÇ   ‚îî‚îÄ‚îÄ postsRoutes.ts
‚îú‚îÄ‚îÄ utils/                    # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ asyncHandler.ts      # –û–±–µ—Ä—Ç–∫–∞ –¥–ª—è async –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤
‚îî‚îÄ‚îÄ middleware/               # Middleware
    ‚îî‚îÄ‚îÄ errorHandler.ts      # –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
```

## üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
npm install
```

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

```bash
npm run dev
```

3. –ò–ª–∏ —Å–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:

```bash
npm run build
npm start
```

## üì° API Endpoints

–í—Å–µ –º–∞—Ä—à—Ä—É—Ç—ã –∏–º–µ—é—Ç –ø—Ä–µ—Ñ–∏–∫—Å `/api/posts`

### –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –ø–æ—Å—Ç—ã

```
GET /api/posts
```

**–û—Ç–≤–µ—Ç:**

```json
{
  "success": true,
  "data": [
    {
      "id": 1,
      "title": "–ù–∞–∑–≤–∞–Ω–∏–µ –ø–æ—Å—Ç–∞",
      "content": "–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–æ—Å—Ç–∞",
      "dateTime": "2024-01-01T00:00:00.000Z",
      "typePost": "news"
    }
  ]
}
```

### –ü–æ–ª—É—á–∏—Ç—å –ø–æ—Å—Ç –ø–æ ID

```
GET /api/posts/:id
```

### –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø–æ—Å—Ç

```
POST /api/posts
Content-Type: application/json

{
  "title": "–ù–∞–∑–≤–∞–Ω–∏–µ –ø–æ—Å—Ç–∞",
  "content": "–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–æ—Å—Ç–∞",
  "typePost": "news",  // –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: "news" | "alert"
  "dateTime": "2024-01-01T00:00:00.000Z"  // –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
}
```

**–û—Ç–≤–µ—Ç:** `201 Created`

### –û–±–Ω–æ–≤–∏—Ç—å –ø–æ—Å—Ç

```
PUT /api/posts/:id
Content-Type: application/json

{
  "title": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ",  // –≤—Å–µ –ø–æ–ª—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã
  "content": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ"
}
```

### –£–¥–∞–ª–∏—Ç—å –ø–æ—Å—Ç

```
DELETE /api/posts/:id
```

**–û—Ç–≤–µ—Ç:** `200 OK`

### Health Check

```
GET /health
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

–ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –º–µ—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:

1. **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** - –≤—Å–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –Ω–∞ —Ç–∏–ø –∏ —Ñ–æ—Ä–º–∞—Ç
2. **–°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è** - —É–¥–∞–ª–µ–Ω–∏–µ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –æ–ø–∞—Å–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤
3. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞** - –∑–∞—â–∏—Ç–∞ –æ—Ç DoS –∞—Ç–∞–∫
4. **–í–∞–ª–∏–¥–∞—Ü–∏—è JSON** - –∑–∞—â–∏—Ç–∞ –æ—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö JSON –∑–∞–ø—Ä–æ—Å–æ–≤

## ‚ùå –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–í—Å–µ –æ—à–∏–±–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ –µ–¥–∏–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ:

```json
{
  "success": false,
  "error": {
    "code": "ERROR_CODE",
    "message": "–û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏",
    "details": {}
  }
}
```

### –ö–æ–¥—ã –æ—à–∏–±–æ–∫:

- `VALIDATION_ERROR` - –æ—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
- `NOT_FOUND` - —Ä–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω
- `ROUTE_NOT_FOUND` - –º–∞—Ä—à—Ä—É—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω
- `INVALID_JSON` - –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç JSON
- `INTERNAL_SERVER_ERROR` - –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

## üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- `express` - –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- `typescript` - –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä TypeScript
- `ts-node` - –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ TypeScript –±–µ–∑ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
- `nodemon` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
- `@types/express` - —Ç–∏–ø—ã –¥–ª—è Express
- `@types/node` - —Ç–∏–ø—ã –¥–ª—è Node.js

## üîß –°–∫—Ä–∏–ø—Ç—ã

- `npm run dev` - –∑–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å –∞–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–æ–π
- `npm run build` - –∫–æ–º–ø–∏–ª—è—Ü–∏—è TypeScript –≤ JavaScript
- `npm start` - –∑–∞–ø—É—Å–∫ —Å–æ–±—Ä–∞–Ω–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## üìå Best Practices

1. –ï–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–æ–≤ API
2. –î–µ—Ç–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö
3. –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —É—Ä–æ–≤–Ω–µ middleware –∏ –º–æ–¥–µ–ª–∏
4. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
